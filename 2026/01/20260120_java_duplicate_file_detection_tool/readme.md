# 今日のJava課題：重複ファイル検出ツール（SHA-256で同一判定）

## 概要
指定したフォルダ配下を走査し、**内容が同一のファイル（重複ファイル）**を見つけてレポートするCLIツールを作ってください。  
「名前が違うけど中身が同じ」「コピーが散らばってる」を炙り出す、地味に強い実用品です。

---

## 要件
### 入力
- コマンドライン引数で受け取る
  - `args[0]`：走査対象ディレクトリ（必須）

- 例：
  - `java Main C:\Users\me\Downloads`


### 走査条件
- ディレクトリ配下を再帰的に走査する
- **通常ファイルのみ**対象（ディレクトリは除外）
- 読み取りできないファイルはスキップし、最後に件数だけ表示する（例：`Skipped: 3`）

### 重複判定（ここが肝）
- ハッシュ方式：`SHA-256`
- ただし効率のため、次の2段階で判定する：
  1) **ファイルサイズ**でグルーピング（サイズが違うなら絶対に重複しない）
  2) 同じサイズのグループに対して **SHA-256** を計算してグルーピング
- SHA-256計算は**ストリーム読み込み**で行う（全部メモリに載せない）

### 出力
- 重複が見つかったものだけ出力（同じハッシュで2ファイル以上）
- 並び順：
  - グループは「重複合計サイズ（サイズ×件数）」が大きい順
  - グループ内はパスの辞書順

#### （例）
```
[Group 1] size=153600 bytes, count=3, sha256=...
C:...\a.png
C:...\b.png
C:...\copy.png
```

## 制約
- Java標準ライブラリのみ（外部依存なし）
- 目安：ファイル数が多くても落ちにくい設計（Mapで保持しすぎない工夫は加点）

---

## ヒント（使うと楽）
- 再帰走査：`Files.walk(Path)` または `Files.find(...)`
- ハッシュ：`MessageDigest.getInstance("SHA-256")`
- ストリーム読み込み：
  - `Files.newInputStream(path)` + `byte[] buf = new byte[8192]`
- パスを文字列化：`path.toAbsolutePath().toString()`

---

## 追加の実用オプション（余裕があれば）
1. `--min-size`：指定バイト未満は無視（小さいファイルだらけを避ける）
2. `--ext`：対象拡張子フィルタ（例：png,jpg,zip）
3. `--delete-preview`：各グループで「残す1つ」以外を一覧表示（削除はしない、プレビューのみ）

---

## 動作確認の小技
同じ内容のファイルを2つ作る：
- Windowsなら、適当なファイルをコピーして別名保存
- あるいは同じテキストを2つのファイルに保存

---

## クリア条件
- サイズ→SHA-256の2段階で重複検出できる
- 読めないファイルがあっても落ちずに完走する
