# 課題: 動体検出による動きのある領域の可視化

## 概要

Webカメラの映像から背景差分を用いて動きのある領域（人や物の移動）を検出し、その領域を枠で囲んで表示するプログラムを作成せよ。

## 処理内容

1. Webカメラ（デバイスID 0）を起動
2. 各フレームでグレースケール変換・平滑化を行う
3. フレーム間の差分を取り、一定以上の差がある部分を「動きあり」とみなす
4. 動きのあった領域を矩形で囲んで画面に表示する
5. ユーザーが `q` キーを押すと終了

## 実行コマンド例

```bash
python motion_detect.py
```
ヒント
差分は cv2.absdiff() で取得

輪郭検出には cv2.findContours() を使う

動きの大小を cv2.contourArea() でフィルタ可能

輪郭を cv2.boundingRect() で矩形に変換

制約
OpenCV（cv2）を使用すること

差分を取る基準となる前フレームを常に保存しておくこと

FPSの都合で軽量化するため、グレースケール＋平滑化を入れること

輪郭が小さすぎる（ゴミ）ものは無視すること（例: 面積100未満）

出力
cv2.imshow() にて、リアルタイムに動きのある部分を赤枠で表示

q キーで終了

追加要素（余裕があれば）
動きのある部分を切り出して保存する機能（1枚ずつJPEGで保存）

動きが検出されたときだけ録画する機能

---

### ✅ 開発のヒント（主要関数）

- 差分計算：`cv2.absdiff(prev, current)`
- 平滑化：`cv2.GaussianBlur(gray, (5, 5), 0)`
- 輪郭検出：`cv2.findContours(thresh, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)`
- 矩形：`x, y, w, h = cv2.boundingRect(contour)`
